<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>SciSDK Library: Rate Meter</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://bryce.io/gitlab-corners/ -->
<style>
    .gitlab-corner-wrapper {
        overflow: hidden;
        width: 100px;
        height: 100px;
        position: absolute;
        top: 0;
        right: 0
    }
    .gitlab-corner {
        position: absolute;
        top: -16px;
        right: -50px;
        transform: rotate(45deg);
        background: #548;
        border: 44px solid #548;
        border-bottom: none;
        border-top: #548 solid 16px
    }
    .gitlab-corner svg {
        width: 60px;
        height: 60px;
        margin-bottom: -4px
    }
    .cls-1 {
        fill: #fc6d26
    }
    .cls-2 {
        fill: #e24329
    }
    .cls-3 {
        fill: #fca326
    }
    .gitlab-corner:hover .cls-1 {
        animation: cycle .6s
    }
    .gitlab-corner:hover .cls-2 {
        animation: cycleMid .6s
    }
    .gitlab-corner:hover .cls-3 {
        animation: cycleEnd .6s
    }
    @keyframes cycle {
        100%,
        15%,
        60% {
            fill: #fc6d26
        }
        30%,
        75% {
            fill: #e24329
        }
        45%,
        90% {
            fill: #fca326
        }
    }
    @keyframes cycleMid {
        100%,
        15%,
        60% {
            fill: #e24329
        }
        30%,
        75% {
            fill: #fca326
        }
        45%,
        90% {
            fill: #fc6d26
        }
    }
    @keyframes cycleEnd {
        100%,
        15%,
        60% {
            fill: #fca326
        }
        30%,
        75% {
            fill: #fc6d26
        }
        45%,
        90% {
            fill: #e24329
        }
    }
    @media (max-width:500px) {
        .gitlab-corner:hover .cls-1,
        .gitlab-corner:hover .cls-2,
        .gitlab-corner:hover .cls-3 {
            animation: none
        }
        .gitlab-corner .cls-1 {
            animation: cycle .6s
        }
        .gitlab-corner .cls-2 {
            animation: cycleMid .6s
        }
        .gitlab-corner .cls-3 {
            animation: cycleEnd .6s
        }
    }
</style>
<div class="gitlab-corner-wrapper"><a href="https://gitlab.sci-compiler.com/sdk/sci-sdk" class="gitlab-corner"
        aria-label="View source on GitLab"><svg id="logo_art" data-name="logo art" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 586 559">
            <g id="g44">
                <path id="path46" class="cls-1"
                    d="M461.17,301.83l-18.91-58.12L404.84,128.43a6.47,6.47,0,0,0-12.27,0L355.15,243.64H230.82L193.4,128.43a6.46,6.46,0,0,0-12.26,0L143.78,243.64l-18.91,58.19a12.88,12.88,0,0,0,4.66,14.39L293,435,456.44,316.22a12.9,12.9,0,0,0,4.73-14.39" />
            </g>
            <g id="g48">
                <path id="path50" class="cls-2" d="M293,434.91h0l62.16-191.28H230.87L293,434.91Z" />
            </g>
            <g id="g56">
                <path id="path58" class="cls-1" d="M293,434.91,230.82,243.63h-87L293,434.91Z" />
            </g>
            <g id="g64">
                <path id="path66" class="cls-3"
                    d="M143.75,243.69h0l-18.91,58.12a12.88,12.88,0,0,0,4.66,14.39L293,435,143.75,243.69Z" />
            </g>
            <g id="g72">
                <path id="path74" class="cls-2"
                    d="M143.78,243.69h87.11L193.4,128.49a6.47,6.47,0,0,0-12.27,0l-37.35,115.2Z" />
            </g>
            <g id="g76">
                <path id="path78" class="cls-1" d="M293,434.91l62.16-191.28H442.3L293,434.91Z" />
            </g>
            <g id="g80">
                <path id="path82" class="cls-3"
                    d="M442.24,243.69h0l18.91,58.12a12.85,12.85,0,0,1-4.66,14.39L293,434.91l149.2-191.22Z" />
            </g>
            <g id="g84">
                <path id="path86" class="cls-2"
                    d="M442.28,243.69h-87.1l37.42-115.2a6.46,6.46,0,0,1,12.26,0l37.42,115.2Z" />
            </g>
        </svg></a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="sci-compiler-logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SciSDK Library
   </div>
   <div id="projectbrief">SDK for SciCompiler projects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_2rate-meter.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Rate Meter</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md257"></a> The rate meter is a simple component that allow to measure the rate of incoming signal The integration time is configured by SciCompiler at Compile Time. If the inegration time (configured in clock cycles) is multiple of clock period, the measure can be already considered in Hz, KHz, MHz ... For example if clock frequency is 125MHz, and integration time is 125e6, the measure is in Hz, if integration time is 125e3, the measure is in KHz, if integration time is 125, the measure is in MHz.</p>
<p>This component support up to 256 channels. The integration time is common to all channels. The number in tha data field is the number of transition L-&gt;H of the i-th input signal in the integration time.</p>
<h1><a class="anchor" id="autotoc_md258"></a>
Parameters</h1>
<p>The following parameters can be configured:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter   </th><th class="markdownTableHeadNone">Acces Mode   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">buffer_type   </td><td class="markdownTableBodyNone">R   </td><td class="markdownTableBodyNone">type of the buffer: (<a class="el" href="struct_s_c_i_s_d_k___r_m___r_a_w___b_u_f_f_e_r.html" title="Rate Meter data structure.">SCISDK_RM_RAW_BUFFER</a>)   </td><td class="markdownTableBodyNone"></td></tr>
</table>
<h2><a class="anchor" id="autotoc_md259"></a>
Commands</h2>
<p>The are no commands for this component</p>
<h2><a class="anchor" id="autotoc_md260"></a>
Output data Format</h2>
<p>The ToF spectrum uses the same data structures of the energy spectrum </p>
<h3><a class="anchor" id="autotoc_md261"></a>
Decoded Data</h3>
<p>The data output structure is the following:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    uint32_t magic;                 </div>
<div class="line">    <span class="keywordtype">double</span> *data;                   </div>
<div class="line">    <span class="keyword">struct </span>{</div>
<div class="line">        uint32_t buffer_size;       </div>
<div class="line">        uint32_t valid_data;        </div>
<div class="line">        uint32_t nchannels;         </div>
<div class="line">    }info;</div>
<div class="line">}<a class="code hl_struct" href="struct_s_c_i_s_d_k___r_m___r_a_w___b_u_f_f_e_r.html">SCISDK_RM_RAW_BUFFER</a>;</div>
<div class="ttc" id="astruct_s_c_i_s_d_k___r_m___r_a_w___b_u_f_f_e_r_html"><div class="ttname"><a href="struct_s_c_i_s_d_k___r_m___r_a_w___b_u_f_f_e_r.html">SCISDK_RM_RAW_BUFFER</a></div><div class="ttdoc">Rate Meter data structure.</div><div class="ttdef"><b>Definition</b> scisdk_defines.h:218</div></div>
</div><!-- fragment --><p>The <code>magic</code> field is a 32 bit value that identify the data format. The <code>data</code> field is a pointer to the data buffer. The data buffer is an array of 32 bit values. The number of elements in the array is defined by the <code>total_bins</code> field. The <code>valid_bins</code> field is the number of bins that contains data. The <code>valid_bins</code> field is always equal to <code>total_bins</code> field.</p>
<p>Data in the <code>data</code> array are the rate of the i-th channel in the integration time.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Data Format    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ch 0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ch 1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ch 2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">...    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ch n   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md262"></a>
Basic Examples</h2>
<p>The following example shows how to use the Rate Meter component.</p>
<h3><a class="anchor" id="autotoc_md263"></a>
C</h3>
<div class="fragment"><div class="line"><a class="code hl_struct" href="struct_s_c_i_s_d_k___r_m___r_a_w___b_u_f_f_e_r.html">SCISDK_RM_RAW_BUFFER</a> *obRm;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> res = <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#ac3f231d328ae4716a3d5910e00b44d7b">SCISDK_AllocateBuffer</a>(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, <a class="code hl_enumvalue" href="scisdk__defines_8h.html#ae862720a4aac4f0f7472fc81ccc2b82eaf0dd46bc0744f52a1c3a06194e8b115c">T_BUFFER_TYPE_RAW</a>, (<span class="keywordtype">void</span>**)&amp;obRm, _sdk);</div>
<div class="line"><span class="keywordflow">if</span> (res != <a class="code hl_define" href="_n_i_error_code_8h.html#ae749d3c5e8d435a8bc05e47792d996d8">NI_OK</a>) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Error allocating buffer\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#aeae6abf2d2a9a72799a64a3aa2d528c1">SCISDK_ReadData</a>(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, (<span class="keywordtype">void</span> *)ob, _sdk);</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;ob-&gt;info.nchannels;i++) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;ch %d: %f\n&quot;</span>, i, ob-&gt;data[i]);</div>
<div class="line">}</div>
<div class="line">....</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#ad1b5907dd78816dc2f481b44a99c2915">SCISDK_FreeBuffer</a>(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, <a class="code hl_enumvalue" href="scisdk__defines_8h.html#ae862720a4aac4f0f7472fc81ccc2b82eaf0dd46bc0744f52a1c3a06194e8b115c">T_BUFFER_TYPE_RAW</a>, (<span class="keywordtype">void</span>**)&amp;obRm, _sdk);</div>
<div class="ttc" id="a_n_i_error_code_8h_html_ae749d3c5e8d435a8bc05e47792d996d8"><div class="ttname"><a href="_n_i_error_code_8h.html#ae749d3c5e8d435a8bc05e47792d996d8">NI_OK</a></div><div class="ttdeci">#define NI_OK</div><div class="ttdef"><b>Definition</b> NIErrorCode.h:8</div></div>
<div class="ttc" id="a_sci_s_d_k___d_l_l_8h_html_ac3f231d328ae4716a3d5910e00b44d7b"><div class="ttname"><a href="_sci_s_d_k___d_l_l_8h.html#ac3f231d328ae4716a3d5910e00b44d7b">SCISDK_AllocateBuffer</a></div><div class="ttdeci">SCISDK_DLL_API int SCISDK_AllocateBuffer(char *Path, T_BUFFER_TYPE buffer_type, void **buffer, void *handle)</div><div class="ttdoc">Allocate a buffer to be used to store data from the board for the specific Memory Mapped Componet (os...</div></div>
<div class="ttc" id="a_sci_s_d_k___d_l_l_8h_html_ad1b5907dd78816dc2f481b44a99c2915"><div class="ttname"><a href="_sci_s_d_k___d_l_l_8h.html#ad1b5907dd78816dc2f481b44a99c2915">SCISDK_FreeBuffer</a></div><div class="ttdeci">SCISDK_DLL_API int SCISDK_FreeBuffer(char *Path, int buffer_type, void **buffer, void *handle)</div><div class="ttdoc">Release the memory allocated by SCISDK_AllocateBuffer() or SCISDK_AllocateBufferSize()</div></div>
<div class="ttc" id="a_sci_s_d_k___d_l_l_8h_html_aeae6abf2d2a9a72799a64a3aa2d528c1"><div class="ttname"><a href="_sci_s_d_k___d_l_l_8h.html#aeae6abf2d2a9a72799a64a3aa2d528c1">SCISDK_ReadData</a></div><div class="ttdeci">SCISDK_DLL_API int SCISDK_ReadData(char *Path, void *buffer, void *handle)</div><div class="ttdoc">Read data from the board for the specific Memory Mapped Componet (oscilloscope, spectrum,...</div></div>
<div class="ttc" id="ascisdk__defines_8h_html_ae862720a4aac4f0f7472fc81ccc2b82eaf0dd46bc0744f52a1c3a06194e8b115c"><div class="ttname"><a href="scisdk__defines_8h.html#ae862720a4aac4f0f7472fc81ccc2b82eaf0dd46bc0744f52a1c3a06194e8b115c">T_BUFFER_TYPE_RAW</a></div><div class="ttdeci">@ T_BUFFER_TYPE_RAW</div><div class="ttdef"><b>Definition</b> scisdk_defines.h:229</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md264"></a>
C++</h3>
<div class="fragment"><div class="line">++</div>
<div class="line">   <a class="code hl_struct" href="struct_s_c_i_s_d_k___r_m___r_a_w___b_u_f_f_e_r.html">SCISDK_RM_RAW_BUFFER</a> *obRm;</div>
<div class="line">   </div>
<div class="line">   <span class="keywordtype">int</span> res = sdk.AllocateBuffer(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, <a class="code hl_enumvalue" href="scisdk__defines_8h.html#ae862720a4aac4f0f7472fc81ccc2b82eaf0dd46bc0744f52a1c3a06194e8b115c">T_BUFFER_TYPE_RAW</a>, (<span class="keywordtype">void</span>**)&amp;obRm, _sdk);</div>
<div class="line">   <span class="keywordflow">if</span> (res != <a class="code hl_define" href="_n_i_error_code_8h.html#ae749d3c5e8d435a8bc05e47792d996d8">NI_OK</a>) {</div>
<div class="line">       cout &lt;&lt; <span class="stringliteral">&quot;Error allocating buffer&quot;</span> &lt;&lt; endl;</div>
<div class="line">       <span class="keywordflow">return</span> -1;</div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line">   sdk.ReadData(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, (<span class="keywordtype">void</span> *)obRm, _sdk);</div>
<div class="line">   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;obRm-&gt;info.nchannels;i++) {</div>
<div class="line">       cout &lt;&lt; <span class="stringliteral">&quot;ch &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; obRm-&gt;<a class="code hl_variable" href="struct_s_c_i_s_d_k___r_m___r_a_w___b_u_f_f_e_r.html#af091ef98c9c4a5ac2d048ea891481a29">data</a>[i] &lt;&lt; endl;</div>
<div class="line">   }</div>
<div class="line">   </div>
<div class="line">   ....</div>
<div class="line"> </div>
<div class="line">   sdk.FreeBuffer(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, <a class="code hl_enumvalue" href="scisdk__defines_8h.html#ae862720a4aac4f0f7472fc81ccc2b82eaf0dd46bc0744f52a1c3a06194e8b115c">T_BUFFER_TYPE_RAW</a>, (<span class="keywordtype">void</span>**)&amp;obRm, _sdk);</div>
<div class="ttc" id="astruct_s_c_i_s_d_k___r_m___r_a_w___b_u_f_f_e_r_html_af091ef98c9c4a5ac2d048ea891481a29"><div class="ttname"><a href="struct_s_c_i_s_d_k___r_m___r_a_w___b_u_f_f_e_r.html#af091ef98c9c4a5ac2d048ea891481a29">SCISDK_RM_RAW_BUFFER::data</a></div><div class="ttdeci">double * data</div><div class="ttdef"><b>Definition</b> scisdk_defines.h:220</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md265"></a>
Python</h3>
<div class="fragment"><div class="line">res, obSpectrum = sdk.AllocateBuffer(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, 0)</div>
<div class="line"><span class="keywordflow">if</span> res != 0:</div>
<div class="line">    print(<span class="stringliteral">&quot;Error allocating buffer&quot;</span>)</div>
<div class="line">    <span class="keywordflow">return</span> -1</div>
<div class="line"> </div>
<div class="line">res, obRm = sdk.ReadData(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, obRm)</div>
<div class="line"><span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(obRm.info.nchannels):</div>
<div class="line">    print(<span class="stringliteral">&quot;ch %d: %f&quot;</span> % (i, obRm.data[i]))</div>
<div class="line"> </div>
<div class="line">....</div>
<div class="line"> </div>
<div class="line">sdk.FreeBuffer(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, 0, obRm)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md266"></a>
C Sharp</h3>
<div class="fragment"><div class="line"><a class="code hl_struct" href="struct_s_c_i_s_d_k___r_m___r_a_w___b_u_f_f_e_r.html">SCISDK_RM_RAW_BUFFER</a> obRm;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> res = sdk.AllocateBuffer(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, <a class="code hl_enumvalue" href="scisdk__defines_8h.html#ae862720a4aac4f0f7472fc81ccc2b82eaf0dd46bc0744f52a1c3a06194e8b115c">T_BUFFER_TYPE_RAW</a>, ref obRm);</div>
<div class="line"><span class="keywordflow">if</span> (res != 0) {</div>
<div class="line">    Console.WriteLine(<span class="stringliteral">&quot;Error allocating buffer&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">dk.ReadData(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, ref obRm);</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;obRm.info.nchannels;i++) {</div>
<div class="line">    Console.WriteLine(<span class="stringliteral">&quot;ch {0}: {1}&quot;</span>, i, obRm.data[i]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">....</div>
<div class="line"> </div>
<div class="line">sdk.FreeBuffer(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, <a class="code hl_enumvalue" href="scisdk__defines_8h.html#ae862720a4aac4f0f7472fc81ccc2b82eaf0dd46bc0744f52a1c3a06194e8b115c">T_BUFFER_TYPE_RAW</a>, ref obRm);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md267"></a>
VB.NET</h3>
<div class="fragment"><div class="line">Dim obRm As SCISDK_RM_RAW_BUFFER</div>
<div class="line"> </div>
<div class="line">Dim res As Integer = sdk.AllocateBuffer(&quot;board0:/MMCComponents/RateMeter_0&quot;, T_BUFFER_TYPE_RAW, obRm)</div>
<div class="line">If res &lt;&gt; 0 Then</div>
<div class="line">    Console.WriteLine(&quot;Error allocating buffer&quot;)</div>
<div class="line">    Return -1</div>
<div class="line">End If</div>
<div class="line"> </div>
<div class="line">sdk.ReadData(&quot;board0:/MMCComponents/RateMeter_0&quot;, obRm)</div>
<div class="line">For i As Integer = 0 To obRm.info.nchannels - 1</div>
<div class="line">    Console.WriteLine(&quot;ch {0}: {1}&quot;, i, obRm.data(i))</div>
<div class="line"> </div>
<div class="line">....</div>
<div class="line"> </div>
<div class="line">sdk.FreeBuffer(&quot;board0:/MMCComponents/RateMeter_0&quot;, T_BUFFER_TYPE_RAW, obRm)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md268"></a>
JAVA</h3>
<div class="fragment"><div class="line"><span class="comment">// allocate buffer</span></div>
<div class="line">Ref&lt;RMRawBuffer&gt; buf = <span class="keyword">new</span> Ref&lt;&gt;(<span class="keyword">new</span> RMRawBuffer());</div>
<div class="line"><span class="keywordtype">int</span> res = sdk.AllocateBuffer(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, buf);</div>
<div class="line"><span class="keywordflow">if</span>(res == 0) {</div>
<div class="line">    res = sdk.ReadData(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, buf);</div>
<div class="line">    <span class="keywordflow">if</span> (res == 0) {</div>
<div class="line">        System.out.println(<span class="stringliteral">&quot;-------------------&quot;</span>);</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; buf.get().GetData().length; i++) {</div>
<div class="line">            System.out.println(buf.get().GetData()[i]);</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        Ref&lt;String&gt; error_description = <span class="keyword">new</span> Ref&lt;&gt;(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">        sdk.s_error(res, error_description);</div>
<div class="line">        System.out.println(<span class="stringliteral">&quot;ERROR DESCRIPTION: &quot;</span> + error_description.get());</div>
<div class="line">    }</div>
<div class="line">    res = sdk.FreeBuffer(<span class="stringliteral">&quot;board0:/MMCComponents/RateMeter_0&quot;</span>, buf);</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md269"></a>
Labview</h3>
<div class="image">
<img src="ratemeter.PNG" alt=""/>
</div>
    <p><em>You can find the labview file for this example <a href="https://github.com/NuclearInstruments/SCISDK/tree/master/examples/components/LabView">here</a></em> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
