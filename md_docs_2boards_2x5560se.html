<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>SciSDK Library: DT5560 / R5560SE Board Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://bryce.io/gitlab-corners/ -->
<style>
    .gitlab-corner-wrapper {
        overflow: hidden;
        width: 100px;
        height: 100px;
        position: absolute;
        top: 0;
        right: 0
    }
    .gitlab-corner {
        position: absolute;
        top: -16px;
        right: -50px;
        transform: rotate(45deg);
        background: #548;
        border: 44px solid #548;
        border-bottom: none;
        border-top: #548 solid 16px
    }
    .gitlab-corner svg {
        width: 60px;
        height: 60px;
        margin-bottom: -4px
    }
    .cls-1 {
        fill: #fc6d26
    }
    .cls-2 {
        fill: #e24329
    }
    .cls-3 {
        fill: #fca326
    }
    .gitlab-corner:hover .cls-1 {
        animation: cycle .6s
    }
    .gitlab-corner:hover .cls-2 {
        animation: cycleMid .6s
    }
    .gitlab-corner:hover .cls-3 {
        animation: cycleEnd .6s
    }
    @keyframes cycle {
        100%,
        15%,
        60% {
            fill: #fc6d26
        }
        30%,
        75% {
            fill: #e24329
        }
        45%,
        90% {
            fill: #fca326
        }
    }
    @keyframes cycleMid {
        100%,
        15%,
        60% {
            fill: #e24329
        }
        30%,
        75% {
            fill: #fca326
        }
        45%,
        90% {
            fill: #fc6d26
        }
    }
    @keyframes cycleEnd {
        100%,
        15%,
        60% {
            fill: #fca326
        }
        30%,
        75% {
            fill: #fc6d26
        }
        45%,
        90% {
            fill: #e24329
        }
    }
    @media (max-width:500px) {
        .gitlab-corner:hover .cls-1,
        .gitlab-corner:hover .cls-2,
        .gitlab-corner:hover .cls-3 {
            animation: none
        }
        .gitlab-corner .cls-1 {
            animation: cycle .6s
        }
        .gitlab-corner .cls-2 {
            animation: cycleMid .6s
        }
        .gitlab-corner .cls-3 {
            animation: cycleEnd .6s
        }
    }
</style>
<div class="gitlab-corner-wrapper"><a href="https://gitlab.sci-compiler.com/sdk/sci-sdk" class="gitlab-corner"
        aria-label="View source on GitLab"><svg id="logo_art" data-name="logo art" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 586 559">
            <g id="g44">
                <path id="path46" class="cls-1"
                    d="M461.17,301.83l-18.91-58.12L404.84,128.43a6.47,6.47,0,0,0-12.27,0L355.15,243.64H230.82L193.4,128.43a6.46,6.46,0,0,0-12.26,0L143.78,243.64l-18.91,58.19a12.88,12.88,0,0,0,4.66,14.39L293,435,456.44,316.22a12.9,12.9,0,0,0,4.73-14.39" />
            </g>
            <g id="g48">
                <path id="path50" class="cls-2" d="M293,434.91h0l62.16-191.28H230.87L293,434.91Z" />
            </g>
            <g id="g56">
                <path id="path58" class="cls-1" d="M293,434.91,230.82,243.63h-87L293,434.91Z" />
            </g>
            <g id="g64">
                <path id="path66" class="cls-3"
                    d="M143.75,243.69h0l-18.91,58.12a12.88,12.88,0,0,0,4.66,14.39L293,435,143.75,243.69Z" />
            </g>
            <g id="g72">
                <path id="path74" class="cls-2"
                    d="M143.78,243.69h87.11L193.4,128.49a6.47,6.47,0,0,0-12.27,0l-37.35,115.2Z" />
            </g>
            <g id="g76">
                <path id="path78" class="cls-1" d="M293,434.91l62.16-191.28H442.3L293,434.91Z" />
            </g>
            <g id="g80">
                <path id="path82" class="cls-3"
                    d="M442.24,243.69h0l18.91,58.12a12.85,12.85,0,0,1-4.66,14.39L293,434.91l149.2-191.22Z" />
            </g>
            <g id="g84">
                <path id="path86" class="cls-2"
                    d="M442.28,243.69h-87.1l37.42-115.2a6.46,6.46,0,0,1,12.26,0l37.42,115.2Z" />
            </g>
        </svg></a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="sci-compiler-logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SciSDK Library
   </div>
   <div id="projectbrief">SDK for Sci-Compiler projects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_2boards_2x5560se.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">DT5560 / R5560SE Board Driver</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md296"></a> <b>Requires device system update newer than 2024.4.10.1</b></p>
<p>This two boards have a versatile analog front-end with 32 channels (or 32 channels per DAQ). Each Front-End has configurable gain, offset, impedance, input division and coupling</p>
<p>SciSDK allows to configure the front end of the board from code in a very simple way.</p>
<p>The board expose a node in the device tree called <code>boardapi/analog</code> that allows to configure the front end of the board.</p>
<p>Pleas remember that the board has a 32 channels front end, but some of the parameters are shared between channels. In the table below you can see the group size column that indicates how many channels share the same parameter.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Valid Values   </th><th class="markdownTableHeadNone">Grouped Channels   </th><th class="markdownTableHeadNone">Default Value   </th><th class="markdownTableHeadNone">Example node    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">gain   </td><td class="markdownTableBodyNone">Gain of the front end   </td><td class="markdownTableBodyNone">0, 1, ... 99   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">0dB (1V/V)   </td><td class="markdownTableBodyNone"><code>board0:/boardapi/analog/CH0_1.gain</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">50r   </td><td class="markdownTableBodyNone">Impedance of the front end   </td><td class="markdownTableBodyNone">true, false   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">false   </td><td class="markdownTableBodyNone"><code>board0:/boardapi/analog/CH0_1.50r</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">div   </td><td class="markdownTableBodyNone">Division by five   </td><td class="markdownTableBodyNone">true, false   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">false   </td><td class="markdownTableBodyNone"><code>board0:/boardapi/analog/CH0_1.div</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">offset   </td><td class="markdownTableBodyNone">Offset of the front end   </td><td class="markdownTableBodyNone">-32768, ... 32767   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone"><code>board0:/boardapi/analog/CH0.offset</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">shaper   </td><td class="markdownTableBodyNone">Coupling of the front end   </td><td class="markdownTableBodyNone">dc 1us 10us 30us   </td><td class="markdownTableBodyNone">32   </td><td class="markdownTableBodyNone">dc   </td><td class="markdownTableBodyNone"><code>board0:/boardapi/analog.shaper</code>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md297"></a>
How to use the boardapi/analog node</h1>
<p>The nodes with group size 1 are the ones that are unique for each channel. In order to access to channel <code>CH</code> you have to access to the node <code>board0:/boardapi/analog/CHx</code> where x is the number of the channel. For example to access to the offset of channel 3 you have to access to the node <code>board0:/boardapi/analog/CH3.offset</code></p>
<p>channels with group size 2 groups adjacent channels. In order to access to channel <code>CH</code> you have to access to the node <code>board0:/boardapi/analog/CHx_x+1</code> where x is the number of the channel. For example to access to the gain of channel 3 and 4 you have to access to the node <code>board0:/boardapi/analog/CH3_4.gain</code></p>
<p>The shaper is common for all channels. In order to access to the shaper you have to access to the node <code>board0:/boardapi/analog.shaper</code></p>
<h1><a class="anchor" id="autotoc_md298"></a>
Applying the configuration</h1>
<p>Once you have set the parameters you have to execute the command <code>board0:/boardapi/configure</code> to apply the configuration.</p>
<h1><a class="anchor" id="autotoc_md299"></a>
Example</h1>
<h2><a class="anchor" id="autotoc_md300"></a>
Configure a single channels</h2>
<h3><a class="anchor" id="autotoc_md301"></a>
C/C++</h3>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> op_res=0;</div>
<div class="line">op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a0f722da8b5e19540555298e0806bb45f">SCISDK_SetParameterInteger</a>(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0_1.gain&quot;</span>, 5, _sdk);</div>
<div class="line">op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0_1.50r&quot;</span>, <span class="stringliteral">&quot;true&quot;</span>, _sdk);</div>
<div class="line">op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0_1.div&quot;</span>, <span class="stringliteral">&quot;true&quot;</span>, _sdk);</div>
<div class="line">op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a0f722da8b5e19540555298e0806bb45f">SCISDK_SetParameterInteger</a>(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0.offset&quot;</span>, 100, _sdk);</div>
<div class="line">op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>(<span class="stringliteral">&quot;board0:/boardapi/analog.shaper&quot;</span>, <span class="stringliteral">&quot;dc&quot;</span>, _sdk);</div>
<div class="line">op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a16a7364c71d331be2da443c61f7a25f3">SCISDK_ExecuteCommand</a>(<span class="stringliteral">&quot;board0:/boardapi/configure&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, _sdk);</div>
<div class="ttc" id="a_sci_s_d_k___d_l_l_8h_html_a00407547516aa0d9a26f273423366be3"><div class="ttname"><a href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a></div><div class="ttdeci">SCISDK_DLL_API int SCISDK_SetParameterString(char *Path, char *value, void *handle)</div><div class="ttdoc">Set the value of a parameter for the specific Sci-Compiler Memory Mapped Component or route the value...</div></div>
<div class="ttc" id="a_sci_s_d_k___d_l_l_8h_html_a0f722da8b5e19540555298e0806bb45f"><div class="ttname"><a href="_sci_s_d_k___d_l_l_8h.html#a0f722da8b5e19540555298e0806bb45f">SCISDK_SetParameterInteger</a></div><div class="ttdeci">SCISDK_DLL_API int SCISDK_SetParameterInteger(char *Path, int value, void *handle)</div><div class="ttdoc">Set the value of a parameter for the specific Sci-Compiler Memory Mapped Component or route the value...</div></div>
<div class="ttc" id="a_sci_s_d_k___d_l_l_8h_html_a16a7364c71d331be2da443c61f7a25f3"><div class="ttname"><a href="_sci_s_d_k___d_l_l_8h.html#a16a7364c71d331be2da443c61f7a25f3">SCISDK_ExecuteCommand</a></div><div class="ttdeci">SCISDK_DLL_API int SCISDK_ExecuteCommand(char *Path, char *value, void *handle)</div><div class="ttdoc">Execute a command for the specific Memory Mapped Component device driver/endpoint....</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md302"></a>
Python</h3>
<div class="fragment"><div class="line">sdk.SetParameter(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0_1.gain&quot;</span>, 5)</div>
<div class="line">sdk.SetParameter(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0_1.50r&quot;</span>, <span class="stringliteral">&quot;true&quot;</span>,)</div>
<div class="line">sdk.SetParameter(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0_1.div&quot;</span>, <span class="stringliteral">&quot;true&quot;</span>)</div>
<div class="line">sdk.SetParameter(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0.offset&quot;</span>, 100)</div>
<div class="line">sdk.SetParameter(<span class="stringliteral">&quot;board0:/boardapi/analog.shaper&quot;</span>, <span class="stringliteral">&quot;dc&quot;</span>)</div>
<div class="line">sdk.ExecuteCommand(<span class="stringliteral">&quot;board0:/boardapi/configure&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md303"></a>
Configure all channels of the board</h2>
<h3><a class="anchor" id="autotoc_md304"></a>
C/C++</h3>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> op_res=0;</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 16; i++) {</div>
<div class="line">    <span class="keywordtype">string</span> ch = <span class="stringliteral">&quot;board0:/boardapi/analog/CH&quot;</span> + to_string(i * 2) + <span class="stringliteral">&quot;_&quot;</span> + to_string(i * 2 + 1) + <span class="stringliteral">&quot;.gain&quot;</span>;</div>
<div class="line">    op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a0f722da8b5e19540555298e0806bb45f">SCISDK_SetParameterInteger</a>((<span class="keywordtype">char</span>*)ch.c_str(), 0, _sdk);</div>
<div class="line">    ch = <span class="stringliteral">&quot;board0:/boardapi/analog/CH&quot;</span> + to_string(i * 2) + <span class="stringliteral">&quot;_&quot;</span> + to_string(i * 2 + 1) + <span class="stringliteral">&quot;.50r&quot;</span>;</div>
<div class="line">    op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>((<span class="keywordtype">char</span>*)ch.c_str(), <span class="stringliteral">&quot;true&quot;</span>, _sdk);</div>
<div class="line">    ch = <span class="stringliteral">&quot;board0:/boardapi/analog/CH&quot;</span> + to_string(i * 2) + <span class="stringliteral">&quot;_&quot;</span> + to_string(i * 2 + 1) + <span class="stringliteral">&quot;.div&quot;</span>;</div>
<div class="line">    op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>((<span class="keywordtype">char</span>*)ch.c_str(), <span class="stringliteral">&quot;true&quot;</span>, _sdk);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 32; i++) {</div>
<div class="line">    <span class="keywordtype">string</span> ch = <span class="stringliteral">&quot;board0:/boardapi/analog/CH&quot;</span> + to_string(i) + <span class="stringliteral">&quot;.offset&quot;</span>;</div>
<div class="line">    op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a0f722da8b5e19540555298e0806bb45f">SCISDK_SetParameterInteger</a>((<span class="keywordtype">char</span>*)ch.c_str(), 0, _sdk);</div>
<div class="line">}</div>
<div class="line">op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>(<span class="stringliteral">&quot;board0:/boardapi/analog.shaper&quot;</span>, <span class="stringliteral">&quot;dc&quot;</span>, _sdk);</div>
<div class="line">op_res |= <a class="code hl_function" href="_sci_s_d_k___d_l_l_8h.html#a16a7364c71d331be2da443c61f7a25f3">SCISDK_ExecuteCommand</a>(<span class="stringliteral">&quot;board0:/boardapi/configure&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, _sdk);</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
