<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>SciSDK Library: DT5560 / R5560SE Board Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/NuclearInstruments/SCISDK" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="sci-compiler-logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SciSDK Library
   </div>
   <div id="projectbrief">SDK for SciCompiler projects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs_boards_x5560se.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">DT5560 / R5560SE Board Driver </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Requires device system update newer than 2024.4.10.1</b></p>
<p>This two boards have a versatile analog front-end with 32 channels (or 32 channels per DAQ). Each Front-End has configurable gain, offset, impedance, input division and coupling</p>
<p>SciSDK allows to configure the front end of the board from code in a very simple way.</p>
<p>The board expose a node in the device tree called <code>boardapi/analog</code> that allows to configure the front end of the board.</p>
<p>Pleas remember that the board has a 32 channels front end, but some of the parameters are shared between channels. In the table below you can see the group size column that indicates how many channels share the same parameter.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Valid Values   </th><th class="markdownTableHeadNone">Grouped Channels   </th><th class="markdownTableHeadNone">Default Value   </th><th class="markdownTableHeadNone">Example node    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">gain   </td><td class="markdownTableBodyNone">Gain of the front end   </td><td class="markdownTableBodyNone">0, 1, ... 99   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">0dB (1V/V)   </td><td class="markdownTableBodyNone"><code>board0:/boardapi/analog/CH0_1.gain</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">50r   </td><td class="markdownTableBodyNone">Impedance of the front end   </td><td class="markdownTableBodyNone">true, false   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">false   </td><td class="markdownTableBodyNone"><code>board0:/boardapi/analog/CH0_1.50r</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">div   </td><td class="markdownTableBodyNone">Division by five   </td><td class="markdownTableBodyNone">true, false   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">false   </td><td class="markdownTableBodyNone"><code>board0:/boardapi/analog/CH0_1.div</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">offset   </td><td class="markdownTableBodyNone">Offset of the front end   </td><td class="markdownTableBodyNone">-32768, ... 32767   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone"><code>board0:/boardapi/analog/CH0.offset</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">shaper   </td><td class="markdownTableBodyNone">Coupling of the front end   </td><td class="markdownTableBodyNone">dc 1us 10us 30us   </td><td class="markdownTableBodyNone">32   </td><td class="markdownTableBodyNone">dc   </td><td class="markdownTableBodyNone"><code>board0:/boardapi/analog.shaper</code>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md293"></a>
How to use the boardapi/analog node</h1>
<p>The nodes with group size 1 are the ones that are unique for each channel. In order to access to channel <code>CH</code> you have to access to the node <code>board0:/boardapi/analog/CHx</code> where x is the number of the channel. For example to access to the offset of channel 3 you have to access to the node <code>board0:/boardapi/analog/CH3.offset</code></p>
<p>channels with group size 2 groups adjacent channels. In order to access to channel <code>CH</code> you have to access to the node <code>board0:/boardapi/analog/CHx_x+1</code> where x is the number of the channel. For example to access to the gain of channel 3 and 4 you have to access to the node <code>board0:/boardapi/analog/CH3_4.gain</code></p>
<p>The shaper is common for all channels. In order to access to the shaper you have to access to the node <code>board0:/boardapi/analog.shaper</code></p>
<h1><a class="anchor" id="autotoc_md294"></a>
Applying the configuration</h1>
<p>Once you have set the parameters you have to execute the command <code>board0:/boardapi/configure</code> to apply the configuration.</p>
<h1><a class="anchor" id="autotoc_md295"></a>
Example</h1>
<h2><a class="anchor" id="autotoc_md296"></a>
Configure a single channels</h2>
<h3><a class="anchor" id="autotoc_md297"></a>
C/C++</h3>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> op_res=0;</div>
<div class="line">op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a0f722da8b5e19540555298e0806bb45f">SCISDK_SetParameterInteger</a>(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0_1.gain&quot;</span>, 5, _sdk);</div>
<div class="line">op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0_1.50r&quot;</span>, <span class="stringliteral">&quot;true&quot;</span>, _sdk);</div>
<div class="line">op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0_1.div&quot;</span>, <span class="stringliteral">&quot;true&quot;</span>, _sdk);</div>
<div class="line">op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a0f722da8b5e19540555298e0806bb45f">SCISDK_SetParameterInteger</a>(<span class="stringliteral">&quot;board0:/boardapi/analog/CH0.offset&quot;</span>, 100, _sdk);</div>
<div class="line">op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>(<span class="stringliteral">&quot;board0:/boardapi/analog.shaper&quot;</span>, <span class="stringliteral">&quot;dc&quot;</span>, _sdk);</div>
<div class="line">op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a16a7364c71d331be2da443c61f7a25f3">SCISDK_ExecuteCommand</a>(<span class="stringliteral">&quot;board0:/boardapi/configure&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, _sdk);</div>
<div class="ttc" id="a_sci_s_d_k___d_l_l_8h_html_a00407547516aa0d9a26f273423366be3"><div class="ttname"><a href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a></div><div class="ttdeci">SCISDK_DLL_API int SCISDK_SetParameterString(char *Path, char *value, void *handle)</div><div class="ttdoc">Set the value of a parameter for the specific SciCompiler Memory Mapped Component or route the value ...</div></div>
<div class="ttc" id="a_sci_s_d_k___d_l_l_8h_html_a0f722da8b5e19540555298e0806bb45f"><div class="ttname"><a href="_sci_s_d_k___d_l_l_8h.html#a0f722da8b5e19540555298e0806bb45f">SCISDK_SetParameterInteger</a></div><div class="ttdeci">SCISDK_DLL_API int SCISDK_SetParameterInteger(char *Path, int value, void *handle)</div><div class="ttdoc">Set the value of a parameter for the specific SciCompiler Memory Mapped Component or route the value ...</div></div>
<div class="ttc" id="a_sci_s_d_k___d_l_l_8h_html_a16a7364c71d331be2da443c61f7a25f3"><div class="ttname"><a href="_sci_s_d_k___d_l_l_8h.html#a16a7364c71d331be2da443c61f7a25f3">SCISDK_ExecuteCommand</a></div><div class="ttdeci">SCISDK_DLL_API int SCISDK_ExecuteCommand(char *Path, char *value, void *handle)</div><div class="ttdoc">Execute a command for the specific Memory Mapped Component device driver/endpoint....</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md298"></a>
Python</h3>
<div class="fragment"><div class="line">sdk.SetParameter(&quot;board0:/boardapi/analog/CH0_1.gain&quot;, 5)</div>
<div class="line">sdk.SetParameter(&quot;board0:/boardapi/analog/CH0_1.50r&quot;, &quot;true&quot;,)</div>
<div class="line">sdk.SetParameter(&quot;board0:/boardapi/analog/CH0_1.div&quot;, &quot;true&quot;)</div>
<div class="line">sdk.SetParameter(&quot;board0:/boardapi/analog/CH0.offset&quot;, 100)</div>
<div class="line">sdk.SetParameter(&quot;board0:/boardapi/analog.shaper&quot;, &quot;dc&quot;)</div>
<div class="line">sdk.ExecuteCommand(&quot;board0:/boardapi/configure&quot;, &quot;&quot;)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md299"></a>
Configure all channels of the board</h2>
<h3><a class="anchor" id="autotoc_md300"></a>
C/C++</h3>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> op_res=0;</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 16; i++) {</div>
<div class="line">    <span class="keywordtype">string</span> ch = <span class="stringliteral">&quot;board0:/boardapi/analog/CH&quot;</span> + to_string(i * 2) + <span class="stringliteral">&quot;_&quot;</span> + to_string(i * 2 + 1) + <span class="stringliteral">&quot;.gain&quot;</span>;</div>
<div class="line">    op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a0f722da8b5e19540555298e0806bb45f">SCISDK_SetParameterInteger</a>((<span class="keywordtype">char</span>*)ch.c_str(), 0, _sdk);</div>
<div class="line">    ch = <span class="stringliteral">&quot;board0:/boardapi/analog/CH&quot;</span> + to_string(i * 2) + <span class="stringliteral">&quot;_&quot;</span> + to_string(i * 2 + 1) + <span class="stringliteral">&quot;.50r&quot;</span>;</div>
<div class="line">    op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>((<span class="keywordtype">char</span>*)ch.c_str(), <span class="stringliteral">&quot;true&quot;</span>, _sdk);</div>
<div class="line">    ch = <span class="stringliteral">&quot;board0:/boardapi/analog/CH&quot;</span> + to_string(i * 2) + <span class="stringliteral">&quot;_&quot;</span> + to_string(i * 2 + 1) + <span class="stringliteral">&quot;.div&quot;</span>;</div>
<div class="line">    op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>((<span class="keywordtype">char</span>*)ch.c_str(), <span class="stringliteral">&quot;true&quot;</span>, _sdk);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 32; i++) {</div>
<div class="line">    <span class="keywordtype">string</span> ch = <span class="stringliteral">&quot;board0:/boardapi/analog/CH&quot;</span> + to_string(i) + <span class="stringliteral">&quot;.offset&quot;</span>;</div>
<div class="line">    op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a0f722da8b5e19540555298e0806bb45f">SCISDK_SetParameterInteger</a>((<span class="keywordtype">char</span>*)ch.c_str(), 0, _sdk);</div>
<div class="line">}</div>
<div class="line">op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a00407547516aa0d9a26f273423366be3">SCISDK_SetParameterString</a>(<span class="stringliteral">&quot;board0:/boardapi/analog.shaper&quot;</span>, <span class="stringliteral">&quot;dc&quot;</span>, _sdk);</div>
<div class="line">op_res |= <a class="code" href="_sci_s_d_k___d_l_l_8h.html#a16a7364c71d331be2da443c61f7a25f3">SCISDK_ExecuteCommand</a>(<span class="stringliteral">&quot;board0:/boardapi/configure&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, _sdk);</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
